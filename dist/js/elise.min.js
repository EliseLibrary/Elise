/*! elise
 * @version 0.8.0-beta
 * @release 2015-08-28
 * @url https://github.com/calumet/elise.git
 */
!function(){window.Elise={VERSION:"0.8.0-beta",_fn:{instance:Date.now(),tip:{count:0},alert:{count:0},hope:null}},Elise.isMobile=function(){var a=!1;return function(b,c){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a}(),Elise.isObsolete=!("querySelector"in document&&"localStorage"in window&&"addEventListener"in window),Elise.val={onInput:function(a,b){return a=$(a),a.length?"function"!=typeof b?console.error("Se requiere de una función para validar."):void a.each(function(){var a=$(this),c=function(){var c=b(a.val());a.removeClass("invalid valid").addClass(c?"valid":"invalid")},d=function(){var d=b(a.val());d||(a.removeClass("valid").addClass("invalid"),a.off("input",c).on("input",c))},e=function(){var b=a.data("valFirstFocused");void 0===b?(a.data("valFirstFocused",1),a.on("input",d)):1===b&&(a.data("valFirstFocused",2),a.off("input",d),a.off("input",c).on("input",c))};a.on("focus",e).on("change",c),d()}):console.error("Se requiere de elementos <input> para validar.")},keyup:function(){return this.onInput.apply(this,arguments)},number:function(a){return String(a).indexOf("e")>-1?!1:!jQuery.isArray(a)&&a-parseFloat(a)+1>=0},integer:function(a){return Elise.val.number(a)?(a=Number(a),Math.floor(a)===a):!1},natural:function(a){return Elise.val.number(a)?(a=Number(a),Math.floor(a)===a&&a>=0):!1},account:function(a,b,c){var d,e={};return"number"==typeof b&&(e.starts=b),"number"==typeof c&&(e.ends=c),e=$.extend(e,b),void 0===e.starts||Elise.val.integer(e.starts)?void 0===e.ends||Elise.val.integer(e.ends)?(e.ends=e.ends?e.ends:32,e.pass?(e.starts=e.starts?e.starts:8,d=new RegExp("^[a-zA-Z0-9#@$%&*-_]{"+e.starts+","+e.ends+"}$")):(e.starts=e.starts?e.starts:4,d=new RegExp("^[a-zA-Z0-9]{"+e.starts+","+e.ends+"}$")),d.test(a)):console.error("El tercer parametro debe ser un entero positivo."):console.error("El segundo parametro debe ser un entero positivo.")},email:function(a){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(a)},text:function(a){a=String(a).toLowerCase();for(var b="-_:;., áéíóúabcdefghijklmnñopqrstuvwxyz0123456789",c=0;c<a.length;c+=1)if(-1===b.indexOf(a.charAt(c)))return!1;return!0},word:function(a){a=String(a).toLowerCase();for(var b="áéíóúabcdefghijklmnñopqrstuvwxyz",c=0;c<a.length;c+=1)if(-1===b.indexOf(a.charAt(c)))return!1;return!0},words:function(a){a=String(a).toLowerCase();for(var b=":;., áéíóúabcdefghijklmnñopqrstuvwxyz",c=0;c<a.length;c+=1)if(-1===b.indexOf(a.charAt(c).toLowerCase()))return!1;return!0},content:function(a){var b="áéíóúñ";a=String(a).replace(/[\x20-\x7E]/g,"").toLowerCase();for(var c=0;c<a.length;c+=1)if(-1===b.indexOf(a.charAt(c)))return!1;return!0},toFileName:function(a){var a=String(a).toLowerCase();return a=a.replace(new RegExp("á","g"),"a"),a=a.replace(new RegExp("é","g"),"e"),a=a.replace(new RegExp("í","g"),"i"),a=a.replace(new RegExp("ó","g"),"o"),a=a.replace(new RegExp("ú","g"),"u"),a=a.replace(new RegExp("ñ","g"),"n"),a=a.replace(/\s/gi,"-"),a=a.replace(/[^a-z0-9_-]/gi,"")},filename:function(){return this.toFileName.apply(this,arguments)}},Elise.win={fitIframe:function(a,b,c,d){var e={};if(e.scroll=$(window.top).scrollTop(),b&&"self"!==b?"top"===b?b=window.parent:"top2"===b&&(b=window.parent.parent):b=window,"string"==typeof a)a=b.document.getElementById(a);else if("object"!=typeof a)return console.error("Se necesita el elemento del iframe o su identificador.");return a?(c=Elise.val.number(c)?c:300,d=Elise.val.number(d)?d:0,$(a).height("auto"),e.height=Elise.win.contentHeight(a),e.res=e.height>c?e.height:c,$(a).add($(a).parent(".centro")).height(e.res+d),$(window.top).scrollTop(e.scroll),e.res+d):-1},contentHeight:function(a){var b=0;return a.Document&&a.Document.body.scrollWidth?b=a.contentWindow.document.body.scrollHeight:a.contentDocument&&a.contentDocument.body.scrollWidth?b=a.contentDocument.body.scrollHeight:a.contentDocument&&a.contentDocument.body.offsetWidth&&(b=a.contentDocument.body.offsetWidthHeight),b},dims:function(a,b,c,d){var e={width:0,height:0};return"undefined"!=typeof window.top.innerWidth?(e.width=window.top.innerWidth,e.height=window.top.innerHeight):"undefined"!=typeof window.top.document.documentElement&&"undefined"!=typeof window.top.document.documentElement.clientWidth&&0!=window.top.document.documentElement.clientWidth?(e.width=window.top.document.documentElement.clientWidth,e.height=window.top.document.documentElement.clientHeight):(e.width=window.top.document.getElementsByTagName("body")[0].clientWidth,e.height=window.top.document.getElementsByTagName("body")[0].clientHeight),e.width=a&&e.width<a?a:e.width,e.width=c&&e.width>c?c:e.width,e.height=b&&e.height<b?b:e.height,e.height=d&&e.height>d?d:e.height,e},height:function(a){return a=a?a.document:window.document,Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))},scrollTo:function(a,b){a=$(a).first();var c=a.offset().top,d=Elise.win.dims().height/2;return c=0>c-d?0:c-d,$("html, body").stop().animate({scrollTop:c},b||500),a}},Elise.popup=function(a){var b="";return a=a?a:{},a.name=a.name?a.name:"_blank",a.width=a.width?a.width:900,a.height=a.height?a.height:500,"normal"===a.position?a.left=a.top=0:"top"===a.position?(a.left=screen.availWidth/2-a.width/2,a.top=0):"full"===a.position?(a.left=a.top=0,a.width=screen.availWidth,a.height=screen.availHeight):(a.left=screen.availWidth/2-a.width/2,a.top=screen.availHeight/2-a.height/2),b+="width="+a.width,b+=",height="+a.height,b+=",left="+a.left,b+=",top="+a.top,b+=",scrollbars=yes",window.open(a.url,a.name,b)}}(),function(){var a={content:null,attribute:"title",maxWidth:300,edgeOffset:3,activation:"hover",keepAlive:null,defaultPosition:"bottom",delay:200,onCreate:null,onShow:null,onHide:null},b=function(b){var c;this.$el=b.$el,this.opts=$.extend({},a,b.config),this.opts.content||(this.$el.attr(this.opts.attribute)?(this.opts.content=this.$el.attr(this.opts.attribute),this.$el.removeAttr(this.opts.attribute)):this.$el.data("tip-content")&&(c=$("#"+this.$el.data("tip-content")),c.attr("hidden",""),this.opts.content=c.html(),this.opts.keepAlive=null===this.opts.keepAlive?!0:this.opts.keepAlive)),this.opts.content&&this._build()};b.prototype._build=function(){var a=this;return this._timeout=null,this._over=!1,this._id="etip-"+ ++Elise._fn.tip.count,this._shown=!1,this.$tip_holder=$('<div id="'+this._id+'" class="tip_holder hidden">'),this.$tip_content=$('<div class="tip_content">'),this.$tip_arrow=$('<div class="tip_arrow"><div class="tip_arrow_inner">'),this.$tip_holder.css("max-width",this.opts.maxWidth),$("body").append(this.$tip_holder.html(this.$tip_content).prepend(this.$tip_arrow)),"focus"===this.opts.activation?this.$el.on("focus",this.show.bind(this)).on("blur",this.hide.bind(this)):"click"===this.opts.activation?(this.$el.on("click",function(b){b.preventDefault(),a._over?(a._over=!1,a.hide()):(a._over=!0,a.show())}),this.$tip_holder.on("mouseleave",this.hide.bind(this))):(this.$el.on("mouseenter",function(){a._over=!0,a.show()}),this.$tip_holder.on("mouseenter",function(b){a._over=!0}),this.$el.on("mouseleave",function(b){a._over=!1,a.opts.keepAlive?setTimeout(function(){a._over||a.hide()},250):a.hide()}),this.$tip_holder.on("mouseleave",function(b){a._over=!1,a.opts.keepAlive?setTimeout(function(){a._over||a.hide()},250):a.hide()})),this.opts.onCreate&&this.opts.onCreate.call(this),this},b.prototype.show=function(){if(!this._shown){this._shown=!0;var a=this;this.$tip_content.html(this.opts.content),this.$tip_holder.css("margin",0),this.$tip_arrow.removeAttr("style");var b,c,d=parseInt(this.$el.offset().top),e=parseInt(this.$el.offset().left),f=parseInt(this.$el.outerWidth()),g=parseInt(this.$el.outerHeight()),h=this.$tip_holder.outerWidth(),i=this.$tip_holder.outerHeight(),j=Math.round((f-h)/2),k=Math.round((g-i)/2),l=Math.round(e+j),m=Math.round(d+g+this.opts.edgeOffset),n=Math.round(h-12)/2;switch(this.opts.defaultPosition){case"top":b="_top";break;case"left":b="_left";break;case"right":b="_right";break;default:b="_bottom"}var o=j+e<parseInt($(window).scrollLeft()),p=h+e>parseInt($(window).width());o&&0>j||"_right"==b&&!p||"_left"==b&&e<h+this.opts.edgeOffset+5?(b="_right",c=Math.round(i-13)/2,n=-6,l=Math.round(e+f+this.opts.edgeOffset),m=Math.round(d+k)):(p&&0>j||"_left"==b&&!o)&&(b="_left",c=Math.round(i-13)/2,n=Math.round(h),l=Math.round(e-(h+this.opts.edgeOffset+5)),m=Math.round(d+k));var q=d+g+this.opts.edgeOffset+i+8>parseInt($(window).height()+$(window).scrollTop()),r=d+g-(this.opts.edgeOffset+i+8)<0;return q||"_bottom"==b&&q||"_top"==b&&!r?("_top"==b||"_bottom"==b?b="_top":b+="_top",c=i,m=Math.round(d-(i+5+this.opts.edgeOffset))):(r|("_top"==b&&r)||"_bottom"==b&&!q)&&("_top"==b||"_bottom"==b?b="_bottom":b+="_bottom",c=-6,m=Math.round(d+g+this.opts.edgeOffset)),"_right_top"==b||"_left_top"==b?m+=5:("_right_bottom"==b||"_left_bottom"==b)&&(m-=5),("_left_top"==b||"_left_bottom"==b)&&(l+=5),this.$tip_arrow.css({"margin-left":n+"px","margin-top":c+"px"}),this.$tip_holder.css({"margin-left":l+"px","margin-top":m+"px"}).attr("class","tip_holder hidden tip"+b),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(function(){a.$tip_holder.removeClass("hidden")},this.opts.delay),this.opts.onShow&&this.opts.onShow.call(this),this}},b.prototype.hide=function(){return this._shown?(this._shown=this._over=!1,this._timeout&&clearTimeout(this._timeout),this.$tip_holder.addClass("hidden"),this.opts.onHide&&this.opts.onHide.call(this),this):void 0},jQuery.fn.tip=function(a){return this.each(function(){new b({$el:$(this),config:a})})}}(),function(){Elise.alert=function(a,b){"string"==typeof a&&(a=$.extend({content:a},b));var c,d,e,f,g,h,i={},j="eAlert-"+ ++Elise._fn.alert.count,k=!1,l="../img/elise/alert/",m=$.extend({_win:window,content:"",title:null,type:"alert",btype:null,showButtons:!0,buttons:[{state:1,value:"Aceptar",type:null,icon:null,onClick:null}],autoClose:!1,timeOut:7e3,onBeforeShow:null,onShow:null,onBeforeHide:null,onHide:null},a),n=m._win,o=n.$("*:focus");switch(m.type){case"alert":h="alert.png",m.title=m.title?m.title:"Alerta",m.btype=m.btype?m.btype:"orange";break;case"info":h="info.png",m.title=m.title?m.title:"Informaci&oacute;n",m.btype=m.btype?m.btype:"sky-blue";break;case"error":h="error.png",m.title=m.title?m.title:"Error",m.btype=m.btype?m.btype:"red";break;case"confirm":h="confirm.png",m.title=m.title?m.title:"Confirmaci&oacute;n",m.btype=m.btype?m.btype:"green",m.buttons=a.buttons?m.buttons:[{state:1,value:"Aceptar",type:"green"},{state:0,value:"Cancelar",type:""}]}c=$('<div id="'+j+'" class="eAlert-BackGround">'),e=$('<div class="eAlert-Container">'),e.html($('<div class="eAlert-Image"><img src="'+l+h+'">')),e.append($('<div class="eAlert-Content">').html($("<div>").html($("<div>").html(m.content)))),m.showButtons&&(f=$('<div class="eAlert-Buttons">'),$.each(m.buttons,function(a,b){g=$("<button>",{"class":"eAlert-button ebutton "+("string"==typeof b.type?b.type:m.btype),html:$(b.icon?'<span class="icon '+b.icon+'">':null).add($('<span class="label">').html(b.value)),click:b.onClick?b.onClick.bind(c):null}).data("eAlert-button-state",b.state),f.append(g)})),d=$("<div>",{"class":"eAlert",html:$('<div class="eAlert-Title">').html(m.title).add(e).add(m.showButtons?f:null)}),n.$("body").append(c.append(d));var p=function(){if(k){var a=d.outerWidth(),b=d.outerHeight();return d.css({"margin-left":-(a/2),"margin-top":-(b/2)}),i}},q=function(){if(!k){var a=d.outerWidth(),b=d.outerHeight();return d.css({"margin-left":-(a/2),"margin-top":-(b/2)-50}),c.css({opacity:0}).animate({opacity:1},200),d.animate({"margin-top":-(b/2)},200,function(){d.find("button").trigger("focus"),m.onShow&&m.onShow.call(i)}),k=!0,m.onBeforeShow&&m.onBeforeShow.call(i),i}},r=function(){if(k){var a=c.data("eAlert-button-state"),b=d.outerHeight();return d.animate({opacity:0,"margin-top":-(b/2)-50},200,function(){k=!1,c.remove(),$(n).off("resize",p),o.trigger("focus"),m.onHide&&m.onHide.call(i,a)}),m.onBeforeHide&&m.onBeforeHide.call(i,a),$(n).off("resize",p),i}};return $(n).on("resize",p),d.find(".eAlert-button").on("click",function(a){a.preventDefault();var b=$(this).data("eAlert-button-state");c.data("eAlert-button-state",b),r()}),c.on("click",function(a){!m.showButtons||m.autoClose?r():d.fadeOut(200).fadeIn(200)}),d.on("click",function(a){a.stopPropagation()}),m.autoClose&&(m.timeOut=m.timeOut?m.timeOut:m.content?70*m.content.length:500,setTimeout(r,m.timeOut)),i.$background=c,i.config=m,q(),i},window.alert=function(){return Elise.alert.apply(Elise.alert,arguments),this}}(),function(){var a={cancel:{value:"Cancelar","class":"emodal_hide"},close:{value:"Cerrar","class":"emodal_hide"}},b=function(a){this._elise=Elise._fn.instance,this._shown=!1,this._reInstance=!1,this._reOutInstance=!1,this._reOutDeref=!1,this.id=null,this.emodal=null,this.url=!1,this.container=null,this.htmlBase="",this.config=$.extend({_win:window,container:null,url:null,onEscKeyClose:!0,show:!0,title:"",emodalWidth:600,emodalContentHeight:300,buttons:["cancel"],background:!0,delay:100,fadeIn:500,fadeOut:500,onCreate:null,onBeforeShow:null,onShow:null,onBeforeHide:null,onHide:null},a);var b;if(this.config.url)this.url=!0;else{if("string"==typeof this.config.container&&"#"===this.config.container.charAt(0)?this.config.container=this.config.container.substring(1):"string"!=typeof this.config.container&&(this.config.container=$(this.config.container).attr("id")),this.container=this.config._win.$("#"+this.config.container),this.config._win!==window&&this.container.length)return b=this.container.data("emodal"),b?(this._reOutInstance=!0,this.htmlBase=b.htmlBase,b._elise!==Elise._fn.instance&&(this._reOutDeref=!0),this):console.error('Hay colision de IDs en el window %o en el id "%s".',this.config._win,this.config.container);if(this.container=$("#"+this.config.container),!this.container.length)return console.error('El contenedor "%s" no se encuentra.',this.config.container);b=this.container.data("emodal"),b?(this._reInstance=!0,this.htmlBase=b.htmlBase):this.htmlBase=this.container.html().trim()}};b.prototype._build=function(){var a=this;this.id="emodal_"+Date.now();var b=$('<div id="'+this.id+'" class="emodal_hold" style="display:none">'),c=$('<div class="emodal">'),d=$('<div class="emodal_header">');d.html($("<button>",{"class":"emodal_close emodal_hide",type:"button",html:"&times;"}).add('<h3 class="emodal_title">'));var e=this.url?$('<iframe class="emodal_content emodal_content_url">'):$('<div class="emodal_content">');e.attr("id",this.config.container);var f='<div class="emodal_footer">';return b.html(c),c.append(d).append(e).append(f),this.config._win.$("body").append(b),this.emodal=this.$modal=this.config._win.$("#"+this.id),this.$=this.emodal.find.bind(this.$modal),this.container&&(this.container.remove(),this.container=null,this.container=this.emodal.find("#"+this.config.container),this.container.data("emodal",this)),this._configure(),$(this.config._win).on("resize",function(b){a._shown&&a.autoPosition(b)}),$(this.config._win.document).on("keydown",function(b){a._shown&&a.config.onEscKeyClose&&27===b.which&&a.hide()}),this.config.show&&this.show(),setTimeout(function(){a.config.onCreate&&a.config.onCreate.call(a)},1),this},b.prototype._configure=function(){var b=this;this.emodal.find(".emodal").css("width",this.config.emodalWidth),this.emodal.find(".emodal_content").css("height",this.config.emodalContentHeight),this.emodal.css("background",this.config.background?"":"none"),this.emodal.find(".emodal_header").find(".emodal_title").html(this.config.title),this.url?this.emodal.find(".emodal_content").attr("src",this.config.url):this.emodal.find(".emodal_content").html(this.htmlBase);var c=this.emodal.find(".emodal_footer");return c.addClass("hidden").empty(),this.config.buttons.length&&($.each(this.config.buttons,function(d,e){if("string"==typeof e)switch(e.toLowerCase()){case"cancel":e=a.cancel;break;case"close":e=a.close}e.position="center"===e.position?"none":e.position,c.append($("<button>",{id:e.id,"class":"ebutton "+(e["class"]?e["class"]:"")+" "+(e.color?e.color:""),html:e.value,css:{"float":e.position?e.position:"right"},click:e.onClick?e.onClick.bind(b):null}))}),c.removeClass("hidden")),this.emodal.find(".emodal_hide").on("click",function(a){b.hide.call(b,a)}),this},b.prototype.destroy=function(a){var b=this;return this.hide(function(){this.emodal.remove(),a&&"function"==typeof a&&a.call(b)}),this},b.prototype.update=function(a){return this.config=a,this._configure(),this},b.prototype.autoPosition=function(){var a=this.emodal.find(".emodal"),b=Elise.win.dims(),c=a.outerWidth()/2;c=c>b.width/2?-(b.width/2)+20:-c;var d=b.height/2-a.outerHeight()/2;return d=10>d?10:d,a.css({"margin-left":c,"margin-top":d}),this},b.prototype.show=function(a){var b=this;return this._shown||setTimeout(function(){b.config.onBeforeShow&&b.config.onBeforeShow.call(b),b.emodal.css("opacity",0),b.emodal.css("display","block"),b.autoPosition(),b.emodal.animate({opacity:1},b.config.fadeIn,function(){b._shown=!0,b.emodal.trigger("focus"),b.config.onShow&&b.config.onShow.call(b),a&&"function"==typeof a&&a.call(b)})},this.config.delay),this},b.prototype.hide=function(a){var b=this;return this._shown&&setTimeout(function(){b.config.onBeforeHide&&b.config.onBeforeHide.call(b),b.emodal.animate({opacity:0},b.config.fadeOut,function(){b.emodal.css("display","none"),b._shown=!1,b.config.onHide&&b.config.onHide.call(b),a&&"function"==typeof a&&a.call(b)})},this.config.delay),this},b.prototype.isShown=function(){return this._shown},Elise.modal=window.eModal=function(a){var c,d=new b(a);if(!d.url){if(c=d.container.data("emodal"),d._reInstance)return c.update(d.config),c.config.show?c.show():c;if(d._reOutInstance){if(!d._reOutDeref)return c.update(d.config),c.config.show?c.show():c;c.emodal.remove();var d=new b(a)}}return d._build()}}(),function(){Elise.loader=function(a){var b,c,d={};return d.config=$.extend({selector:null,type:"spin",text:"Cargando, por favor espere...",textPosition:"bottom",determinate:!1,percentage:0,show:!0,width:"100%",fadeTime:250,updateTime:200,size:"normal",border:!0},a),d.config.type="spinner"===d.config.type?"spin":d.config.type,d.loader=$('<div class="eloader" style="display:none">').css("width",d.config.width),b=$("<div>"),d.loader.append(b),d.$loader=d.loader,"spin"===d.config.type?(b.addClass("spin"),d.config.determinate?b.append(["<svg>",'<circle class="progress" transform="translate(30,30) rotate(-90)" r="25" cy="0" cx="0">',"</circle>",'<circle transform="translate(30,30)" r="25" cy="0" cx="0">',"</circle>","</svg>",'<div class="progress-count">0%</div>'].join("")):(b.addClass("undeterminate").html('<div class="spin-ball1"></div><div class="spin-ball2"></div>'),"mini"===d.config.size&&b.addClass("spin-mini"))):(b.addClass("bar"),d.config.border||b.css("border-width",0),d.config.determinate?b.append($('<div class="progress" style="width: 0%">').html("0%")):b.addClass("undeterminate").append(['<div class="bar-ball bar-ball1"></div>','<div class="bar-ball bar-ball2"></div>','<div class="bar-ball bar-ball3"></div>','<div class="bar-ball bar-ball4"></div>'].join(""))),d.config.text&&(c=$('<div class="state">').html(d.config.text),"bottom"===d.config.textPosition?d.loader.append(c):d.loader.prepend(c)),d.update=function(a){var c,e,f;return a&&(a.text&&d.config.text&&(c=d.loader.find(".state"),e=c.outerWidth(),c.animate({"margin-left":"-"+e+"px",opacity:0},d.config.updateTime/2,function(){c.css({width:e,"margin-left":e}).html(a.text).stop().animate({"margin-left":0,opacity:1},d.config.updateTime/2,function(){c.removeAttr("style")})})),a.percentage&&d.config.determinate&&("spin"===d.config.type?(f=157*(a.percentage/100),b.find(".progress").animate({"stroke-dashoffset":157-f},d.config.updateTime),d.loader.find(".progress-count").html(a.percentage+"%")):d.loader.find(".progress").animate({width:a.percentage+"%"},d.config.updateTime).html(a.percentage+"%")),a.width?d.loader.animate({width:a.width},d.config.updateTime):void 0),d},d.destroy=function(a,b){return d.hide(a?a:d.config.fadeTime,function(){d.loader.remove(),b&&b.call(d)}),d},d.show=function(a,b){return d.loader.show(a?a:d.config.fadeTime,b),d},d.hide=function(a,b){return d.update({percentage:100}).loader.hide(a?a:d.config.fadeTime,b),d},d.remove=function(){d.destroy(0)},$(d.config.selector).append(d.loader),d.config.show&&d.loader.fadeIn(d.config.fadeTime),d.update({percentage:d.config.percentage}),d},jQuery.fn.loader=function(a){return a=$.extend({selector:this.first()},a),Elise.loader(a)}}(),function(){var a=function(a){this._elise=Elise._fn.instance,this._shown=!1,this.config=a};a.prototype.update=function(a){return this.loader.update(a),this.hope.trigger("focus"),this},a.prototype.position=function(a){if(!this._shown)return this;var b=this.hope.find(".ehope"),c=b.outerWidth(),d=b.outerHeight();return b.css({left:"50%",top:0,"margin-left":"-"+c/2+"px","margin-top":"-"+d/2+"px"}),a||"slide"!==this.config.animation?b.css("top","50%"):b.stop().animate({top:"50%"},this.config.animationIn),this},a.prototype.destroy=function(a){if(!this._shown)return this;var b=this;return this.update({percentage:100}),this.hope.fadeOut(this.config.animationOut,function(){b._shown=!1,b.config.onClose&&b.config.onClose.call(b),b.config.onHide&&b.config.onHide.call(b),a&&a.call(b)}),"slide"===this.config.animation&&this.hope.animate({top:0},this.config.animationOut),this},Elise.hope=function(b){var c,d;b&&b.animation&&(b.animation=b.animation.toLowerCase(),b.animation="slidedown"===b.animation?"slide":"fadein"===b.animation?"fade":b.animation);var e=$.extend({_win:window.top,reset:!1,width:300,background:"rgba(255,255,255,0.75)",animation:"slide",animationIn:250,animationOut:250,loader:{fadeTime:0}},b),f=e._win;if(f.Elise._fn.hope){if(f!==window&&f.Elise._fn.hope._elise!==Elise._fn.instance)f.Elise._fn.hope.$hope.remove(),f.Elise._fn.hope.$hope=null;else if(f.Elise._fn.hope._shown&&!e.reset)return f.Elise._fn.hope.update(b);c=f.Elise._fn.hope,c.config=e}else c=f.Elise._fn.hope=new a(e),$(f).on("resize",function(a){c.position("fade")});return c.$hope?(d=c.$hope,hope_content=d.find(".ehope").html("")):(d=$('<div id="ehope" class="ehope-hold" style="display: none;">'),hope_content=$('<div class="ehope">'),c.$hope=c.hope=d,c.$=d.find.bind(d),f.$("body").append(d.html(hope_content))),c.config.loader.selector=hope_content,c.loader=Elise.loader(c.config.loader),d.css("background-color",c.config.background),hope_content.css("width",c.config.width),d.stop().fadeIn(c.config.animationIn),c._shown=!0,"slide"===c.config.animation?c.position():c.position("fade"),c.config.onOpen&&c.config.onOpen.call(c),c.config.onShow&&c.config.onShow.call(c),c}}();